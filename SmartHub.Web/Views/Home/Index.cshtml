@model string
@{
    ViewBag.Title = "Index";
}
<h2>Console Output</h2>
<p>
    The area below is a dump of the console output that is being refreshed each second. Background jobs
    write a message to the console, so you can see it was performed.
</p>
<pre id="buffer" data-url="@(Url.Action("Buffer", "Home"))">@Model</pre>
<script>
    var objDiv = document.getElementById("buffer");
    objDiv.scrollTop = objDiv.scrollHeight;
</script>
<script src="~/Scripts/jquery-2.1.4.min.js"></script>
<script>
    $(function() {
        var bufferWidget = $('#buffer');

        setInterval(function() {
            $.get(bufferWidget.data('url'), function(data) {
                bufferWidget.html(data);
                bufferWidget.scrollTop(bufferWidget[0].scrollHeight);
            });
        }, 1000);
    });
</script>
@using (Html.BeginForm("Create", "Home"))
{
    <!--
    <button class="btn btn-primary" type="submit">Create a job</button>
    <a class="btn btn-default" href="@Url.Content("~/hangfire")">Visit Dashboard</a>
    <a class="btn btn-default" href="@Url.Content("~/ServiceConnection/GetUserId?email=luantrantest@gmail.com")">Manage Service Connections</a>
    -->
}